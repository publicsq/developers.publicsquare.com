import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { Alert } from "@site/src/components/shared/Alert";
import Image from "@theme/IdealImage";
import FAQ from "@site/src/components/shared/FAQ";
import GettingStartedSection from "@site/src/components/docs/_getting-started-section.mdx";
import SucceededImage from "@site/static/img/guides/merchants/statuses/succeeded.png";
import RequiresCaptureImage from "@site/static/img/guides/merchants/statuses/requires_capture.png";
import CanceledImage from "@site/static/img/guides/merchants/statuses/canceled.png";
import DeclinedImage from "@site/static/img/guides/merchants/statuses/declined.png";
import PendingImage from "@site/static/img/guides/merchants/statuses/pending.png";

# Transaction Statuses

## `succeeded`

The payment or refund has been successfully captured or refunded, and funds have been settled or refunded.

<Image img={SucceededImage} alt="Succeeded" style={{ maxWidth: 512, margin: "0 auto" }} />

Additional notes:

- No further action is required.
-	Ensure the payment or refund is reflected in your financial records.

## `requires_capture`

The payment has been authorized but not yet captured. Payment authorization requires merchant action to capture the funds.

<Image img={RequiresCaptureImage} alt="Requires Capture" style={{ maxWidth: 512, margin: "0 auto" }} />

Additional notes:

- Navigate to the transaction in the PSQ Portal.
- Review the transaction details.
- Choose to either:
  - **Capture** the payment to settle the funds.
  - **Cancel** the payment to void the authorization.

**Example Scenario:**

> A customer completed a purchase, but the payment is not yet captured due to a fraud review. You can review the transaction details, verify the order’s legitimacy, and then choose to capture the payment if everything checks out.

## `canceled`

The payment authorization was voided and will not be captured.

<Image img={CanceledImage} alt="Canceled" style={{ maxWidth: 512, margin: "0 auto" }} />

Additional notes:

- No further action is required.
- If the cancellation was unintended, you may need to create a new transaction.

## `declined`

The payment attempt was unsuccessful due to errors such as insufficient funds or fraud blocks.

<Image img={DeclinedImage} alt="Declined" style={{ maxWidth: 512, margin: "0 auto" }} />

Additional notes:

- Review the error message associated with the declined transaction.
- Retry the payment, ensuring all details are correct.
- Contact the customer for updated payment information if necessary.

**Example Scenario:**

> A customer’s payment failed due to insufficient funds. You can retry the transaction or ask the customer to provide a different payment method.

## `pending`

The payment is currently being processed and awaiting confirmation from the bank or processor. (ACH only, takes 1-3 days).

<Image img={PendingImage} alt="Pending" style={{ maxWidth: 512, margin: "0 auto" }} />

Additional notes:

- Monitor the transaction in the PSQ Portal for updates.
-	No action is required until the status changes.

## `failed`

The payment attempt could not be processed successfully due to errors such as invalid account details, insufficient funds, or technical issues during bank confirmation. This status applies to ACH payments only.

Additional notes:

1. **Review Error Details:**
    -	Check the transaction details in the PSQ Portal for the specific reason the payment failed (e.g., account mismatch, insufficient funds, or invalid routing number).
2.	**Verify Customer Information:**
    - Confirm with the customer that the provided bank account and routing numbers are accurate.
    - If necessary, request updated payment information.
3.	**Retry the Payment:**
    - After resolving the issue, retry the transaction.
4.	**Contact Support:**
    - If the issue persists or the error is unclear, reach out to PublicSquare Support for further investigation.

| Status | Description | Color Code |
|--------|-------------|------------|
| `succeeded` | The payment or refund has been successfully captured or refunded, and funds have been settled. | Green |
| `requires_capture` | The payment has been authorized but not yet captured, requiring merchant action to capture funds. | Yellow |
| `canceled` | The payment authorization was voided and will not be captured. | Red |
| `declined` | The payment attempt was unsuccessful due to errors (e.g., insufficient funds, fraud block). | White |
| `pending` | The payment is currently being processed and awaiting confirmation from the bank or processor. (ACH only, takes 1-3 days) | Yellow |
| `failed` | The payment attempt could not be processed successfully due to errors such as invalid account details, insufficient funds, or technical issues during bank confirmation. This status applies to ACH payments only. | Red |

## How to access this information

Merchants can access transaction statuses directly in the PSQ Payments Portal by navigating to the **Transactions** or **Payments** tab. Use the search bar to find specific transactions by customer name, email, payment ID, or transaction ID.

<FAQ faqs={[{
  question: 'What does the “Succeeded” status mean?',
  answer: 'The “Succeeded” status indicates that the payment or refund has been successfully processed, and the funds have been settled or refunded. No further action is required from the merchant.'
}, {
  question: 'What does “Requires_Capture” mean?',
  answer: 'This status means the payment has been authorized but not yet captured. It requires the merchant to take action in the PSQ Portal to either capture the funds or cancel the transaction.'
}, {
  question: 'How long do “Pending” transactions take to settle?',
  answer: 'Pending transactions, typically for ACH payments, take <strong>1–3 business days</strong> to settle. This time frame may vary depending on the customer’s bank and processing timelines.'
}, {
  question: 'What should I do if a payment is “Declined”?',
  answer: 'If a payment is declined, review the error message provided in the PSQ Portal. Common reasons include insufficient funds, invalid payment details, or fraud blocks.'
}, {
  question: 'Why would a payment be “Canceled”?',
  answer: 'A payment is marked as “Canceled” if the authorization was voided before capture.'
}, {
  question: 'What happens if a payment fails?',
  answer: 'Failed payments occur due to issues like invalid bank details, insufficient funds, or technical errors. Review the error message, confirm the customer’s information, and retry the transaction after addressing the issue.'
}, {
  question: 'Can I retry a “Failed” or “Declined” payment?',
  answer: 'Yes, both “Failed” and “Declined” payments can be retried, but only after resolving the underlying issue, such as correcting payment details or ensuring sufficient funds. The retry must be initiated through the e-commerce platform.'
}, {
  question: 'What happens if I don’t capture a “Requires_Capture” payment?',
  answer: 'If you don’t capture a “Requires_Capture” payment within the authorization window, the authorization will expire based on the customer’s bank policies (typically 7–10 days). The transaction will no longer be valid.'
}, {
  question: 'How can I see the details of a transaction?',
  answer: 'Navigate to the Transactions tab in the PSQ Portal. Use the search bar to find the transaction by name, email, transaction ID, or other identifiers. Click on the transaction to view details like status, amount, and error messages.'
}, {
  question: 'Why does “Pending” only apply to ACH payments?',
  answer: 'The “Pending” status is specific to ACH payments because they rely on bank-to-bank transfers, which typically take 1–3 business days to process. Credit card payments are processed almost instantaneously and don’t have this intermediate state.'
}, {
  question: 'Can I cancel a “Pending” or “Requires_Capture” transaction?',
  answer: 'Yes, you can cancel both “Pending” (for ACH payments) and “Requires_Capture” transactions before they are completed. Use the “Cancel Payment” button in the PSQ Portal to void the transaction.'
}, {
  question: 'What should I do if a transaction is stuck in “Pending” for too long?',
  answer: 'If a transaction remains in “Pending” beyond 3 business days, check with the customer to ensure their bank details are correct. If everything appears accurate, contact PublicSquare Support for further assistance.'
}, {
  question: 'How can I identify why a payment failed?',
  answer: 'The PSQ Portal provides error details for failed transactions. Common reasons include invalid routing or account numbers, insufficient funds, or a bank rejection. Use this information to address the issue with the customer.'
}, {
  question: 'Are customers notified of the transaction status?',
  answer: 'Customers are typically notified about payment status updates (e.g., refunds, successful payments) via email from your eCommerce platform. Ensure your system is configured to send these notifications.'
}, {
  question: 'Can partial refunds be issued?',
  answer: 'Yes, partial refunds can be processed through your e-commerce platform. Select the transaction, specify the refund amount, and confirm the partial refund.'
}, {
  question: 'What if I need to issue a refund for a canceled transaction?',
  answer: 'Refunds cannot be issued for canceled transactions, as no funds were captured. In this case, a new payment would need to be processed.'
}, {
  question: 'What should I do if a refund takes longer than expected to reflect?',
  answer: 'Refunds typically take 5–7 business days to process. If a customer hasn’t received their refund within this time frame; Advise them to check their account statement, including pending transactions. Suggest they contact their bank with refund details. Or contact PublicSquare Support if further assistance is needed.'
}, {
  question: 'How can I track all my transactions by status?',
  answer: 'Use the filters in the PSQ Portal’s Transactions tab to sort and view transactions by status, such as “Succeeded,” “Pending,” or “Failed.”'
}]} />