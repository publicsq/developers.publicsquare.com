---
id: create-apple-pay-token
title: "Create Apple Pay token"
description: "    Create a new Apple Pay payment method for the Account."
sidebar_label: "Create Apple Pay token"
hide_title: true
hide_table_of_contents: true
api: eJztW91S47gSfhWV9mJ3TwVI7MQDuTohYWaYmQSG8LPAUqDYIhHYskeSCYFK1b7DuTqvt09yqiU7cZw/Z5bdOhezU7UVbLW6Wy31nz6/YkX6EtevcSOKfIqOyQjflLBHpStYpFjIcR0jhFBTUKIoIojTIZqMRREZBZQrFFA1CD10HwqkBhQ1XDeMudr+nf/Ogfqnn35Cx1QETEoWcmke/gvdJeRbhrzukkjFgt4tez8UTNE7XMJhRAUB6Q49XMeJbFOpVPhIOS5hQb/FVKr90Bvh+it2Q64oV/CTRJHPXD3FzoMELV+xdAc0IPAL6JigHqwLjKS3iSC3HlEEFkiNIorrOOw9UFfhEo4EiKQYlZpRLFUYUHHLPPgzGSyVYLyPS5jHvk96PsV1JWI6Li3iMSVbwkMJwiVxzSJQrtg9o2IRt1lbnk7JEJvS5YUqYfpMggj+xPae7ThV23Jsu2w7dtlqOY5Ts8tO1WrZVf3Mslr2nl11HLtmteyaU7Edu+JYTtWp2DW7Zu/ZNdvG4xJOdGwVUjG3EEs0OuCuGEWKepPNCHSIcjf0qIeIRD0iqVNFS9Y/q+rRRWfQeWg/ty8O1VHr0+NRs1y+PD20v5w+jjoPfdV+Oau1H078zsunoP3Sr4BKA0q8mZVfok1my7UKKfaRPk+06H5s/PnHf6yagwZEDlB4r49ZKFifceJPNE82/Gpz2nbNsZyKXXFqjmPbVsvedaqObRtz7jo1/WzPgf+qVsuxbGP8Xdux95yqDdtg134HutNoQAMqiH8c93zmfqaj9WrtG2ukmv22XSvvoUjTo0c62tbnmFGJQu7DUUZ3B83bp8odeqICvMdK5S5Pv46OPrStzsVXdRkc2GDATqv98uXUfzw6PVCdi6/P7eDk4ejifGLAoSBRRL3vEf6k21gt+km3UVj2q4tL66p1Nrp8aat26/H5kpXLly992HzPly8HqvNy8NK2Oo9HrX6t/bAf6POUrvtHIgcbiz+/q66NIbvfYiLozxI1uyc3vwyUimR9ZycKhSL+tuEp9ZBtNwx2tofU97ceeTjkO9qVbXn0ifqw+bcCKtwB4Yp5W14YEMa3iJShy/Q5+PXN12PGKxY6YsSjLguIj9RCz4j6lEOsoR4KuT50Hn1iLv2HPCYEB89jIBTxjzP+5J74kpawYkpz1LHvmIyOp/71o/FL4xKWrM8JBNaNN8jx52YX/fQOTWZIPc+MqyXcQ8YLypXL0jm9ergKrgbtF1ddPZxVO91y+eji0+DLxeHz1cVXdXX6WG4HZ9Wrhyv/8uH8EWRPD85ayc/NQMT4fSgCvb0Q6YWxmpE3zQyWC6mdzV9a+Eyca+u8pUCkYzLyyahDggI2apnBiJNgYg+XCG+lWudMElS1qhZIx6kahuJxPatEKz09Sqi2UZdSdO0zqaauYXLgt7UD0G7BC90YqE2WpZ9HZBRyNaBD2ps8SJYqCV07Mo7Az1AvYSd/BR0nT2dEWb3dQGXtE7SK61Rtwrww5G/Sz6SwwGCRQvB8tTauoB5ToE+P+T7j/WbIFXHV+s0VDUJOO3HQK5IfJrMiTYS4oVolV61Wq1h2teaYhCAgzG94nqBSFmemqRBJyFZxewgHXAZMDf6tacAOwLbPnigvdnpSnppEn6GVDD+FAw4c7knA/IIHNGVhaIrz0GuumPuhuDbHCQmSEdW7YuIQjAw/y00VTYV4v4HCBaQouhZdMC423hd2wxfGaXYnESHICJcwUzRYsMPGedG6SlCqEJw1iAjhfUamAhvuGlcqFXRKpUJdtY1LuBEpVLFsfANxNe59CV3iM1Ugc2xMoslsiEqyIeqhIVMDvWp+aMqEErgF5hLfHyGP3jMO5YyJZy5TIwTFdjjkyAfnhH6RsTuAcsdjIIKr4D2nrD/ohWIQht6vJcQ4IigKpSLFjttHJlUomItayZywwH5hnZsgZdoTSNZ9tfUJR+8F4S6Tbqh3o5a1GXoFduEVixCkLaB3oqP+cxMBtCvDxrYNL2Ac9CaKPdGGoAVqtm7cIzNkiAhKprYhSDdGtO1CNaACCdqHTHhj0zR9MjLn5DukVNAv2WRdmg3gpWUXBQzfyaYmhgg0NrpuxPiMMzgbWmKZkaHYlkg88Z9//FciNQy3fKoUFeiwe4TsiuNMZIN9slqM7uYp4f5snJ5mhcdkJjguC9uCBUSMklbaJj2eM86+xTRbxKQrnsyJiJk0ie/T15l0b+VyOBXHgU4BtA+cqr2nixld9ECB41i25Vi6c1Czy9BXcKDQ2bUtXdo4ds2BImjP3tWLMqOnyVO68f09ey6e9KdVyWL1ZMwU6KH1TFJtOG+jMBbo7HB1KZeT1lR/b2oUM+WWjKjL7pmbk361dLv2O8eyKyChU4FC066CHbRFqnbF3gU72LvwT/+CZ9D1qUJ5qUtNx96zK3Oa/SUzmJne1Ao5WaFMf9IxUjuG4oVMRKREU2okgfxvyviB15SV5pRL/aXxaqs0Tyag3neXpNrbfC9xUsBuTJ6thZN65dajijBfzjXYTbC79RmntxVcwpDb4GmwSZOA28RJ60Vb34PPTVt/xQF5/kJ5Xw1wvVYu4YDx9M9KaW3A1Flkkr1m0oVKBTVDPxTEC1HjiW5nMlfD2VrAeU2iGKkS6sZM6UTm+Ajth88rtwikpNWybq+7SVqWYVgpb6hr0yz/dP4Wlagd6jx8nC7/LA97hoO1joMFitnIHRBB3DQe63nTQDxlftiYpoFmB+RYb6jdscmwQoFeknRxhl2tUqlUcqlOhpu1GTMrp2Mu3fjO9CJJDgsTmOux9GSeJFcEY6CfnsPkJkpQGYVcmiNklfW5yW0PPZunD2jB67TVB3XxHVn+TKRXe4et1e4yivzbxtA+s+hBd59/c1rh5cF7vvuNdNuiYUKHtsKSq7kc2ySCrWPqurf7tcouZx+GHy4/v7C+86TEyfnVhw8fznVXhD8xEfIgWa1191mTwWgLNQlHPYruFJXqDrbtXSRCL9Zt6ruVUk3H6f28+koyZ+Nk8DrF3VjevmuMaoF79lvjeSg6zvDrwdez84OP+81PP1z/D9f/w/X/Pa4fJoiYoPKWFPAorQXoCJRMgEvYNKNwHe7b6ZZiazp0VtmqbpWdLbtyWq7Uy1bd2tu2KtaVXjoTHL5fqiGRyJ1EmO+VrDwvWRB6UHX9RdHSWd5WNj3/bbFrirxU5sYijRJeRLiJEgH8WikRjNXtPCJVdT3jL0QqVEUe6zMlC187pTdO9Dm6DaBQKngRo3enKdEM2eqmXcpiREmRO44cB021xni6KdgThBcJnzC/Gbtq1qfkfoo8yYl7W2P88+76VtWlPohPT9atoJFfpEt7fm4hM3bVvO3Nq0BIMsclXC2X5/PIfeKhkwlc5Y1ySSpEKBb21hbLXfhaYbwAtbXswM4PNMtSYCREwjjLn3FF+7oJNPE3jCvbWkRskqxCfBi0I7hbRKilNn+daobPic88bbJjEfZ8GrSShC/dAAsKiTNOYjUIBXt5y2rih1EmRlliCnveFO9D0WOep5ERP+zwD9mhOm+HTqjQ+zDmP87DP2QH0Ia6sdC10/UrbkRMwwCv8WJkMi7lX2hIMr4Z35RwkIB9dMmiR0K6g3dmKWQCkYt0vJFUAMJJM4+Fj+s47T+TiM0h7TCwSQXuwg4wRk7FnoYz82Auf0gcrkl7eiPUOD5Enym04SXzaAof/Vmi37Yax4dbnw8uE2AXLLmGAuDJG4iWMGkyANYSNufJFHN9kOYOOUT01IxLgM+Loc1vB6ubwyEbzpvDf7Po3zl879shbRcDbTcHu85iXTcHWM7hTb9nihxE803h5Rmk4+ZowwzYMEUBLgDyzUD1MrC6DKrOIM8mHYIEubUIuDUDzcpCqfJIqoXApxnckwHwzAKV0mcLgEX5V1m4TwLCyWNwlmNhclCYBbCRLGokh/KYBXkkCIylAAyDe1gMewCUQqZ9k8MO5KADuvEydyW//NL97e68V19549zYpRfOb3f5u/LuF+eGzl29zlxRLu755huyC5qn873TSXMz7W1mu5GTZiR0CXNNwqSTN7MTTJMNgFc6wKQZQQbsjpJbSwlBccYXJI4glCogOvdKIuHSz45mgm7ms6P/ww+pEhel6LPaiXzCdEdIJyKvSf6ST4VkGrZ1BnNTwgPIdurX+PUVvrM5E/54DI+/xRSW/vqmhJ+IYCZZu77JfDBz/YofdRxqmgXaOgVhYLgfp3c5M2nvuJRSNFyXRmrl2GxCdnzUPQX/m3wHFphtIsgQvhEjQ1zH+psyfU2v7yjg2Sv2Ce/HpA9jzZw6z4xnmlgkYo8600p+gFbpKz7KSJjNm4wS8H9QaeHw11eTw43Hk/Hm1VKKSaJmRoMpb8bj8f8A+rnssg==
sidebar_class_name: "post api-method"
info_path: api/financial/publicsquare-payments-api
custom_edit_url: null
show_extensions: true
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create Apple Pay token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/payment-methods/apple-pay"}
  context={"endpoint"}
>
  
</MethodEndpoint>



    Create a new Apple Pay payment method for the Account.

    ### Permissions
    * `payment-method:capture`
    * `payment-method:write`

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"required":["apple_payment_data"],"type":"object","properties":{"customer_id":{"type":"string","nullable":true},"apple_payment_data":{"type":"object","properties":{"transactionIdentifier":{"type":"string","description":"Transaction identifier","nullable":true,"example":"39366432633036302D666530642D343036322D393466352D356136316264613535393533"},"paymentData":{"type":"object","properties":{"data":{"type":"string","description":"Encrypted payment data encoded as base64 string","nullable":true,"example":"OWNhNjMxMWItODJkOC00YTI3LTkyNjgtMzU5MjRlNzJmMzg1"},"header":{"type":"object","properties":{"applicationData":{"type":"string","description":"Hex encoded SHA–256 hash of the original payment request","nullable":true,"example":"33356261316566332D386463342D343865332D396666642D623432633836396433303837"},"ephemeralPublicKey":{"type":"string","description":"Base64 encoded X.509 public key. Applies only to `EC_v1` version","nullable":true,"example":"YTQyOGM2NWQtYmE3OC00NDMzLTlkOTEtNWQxMmRjOWVmMzg1"},"wrappedKey":{"type":"string","description":"Base64 encoded RSA public key. Applies only to `RSA_v1` version","nullable":true,"example":"ZWY2ZDUyYzMtMDkxYi00Yzg3LTkxYzEtNzEzM2NkODg5MjBm"},"publicKeyHash":{"type":"string","description":"Base64 encoded SHA–256 hash of [PublicSquare's CSR](https://portal.publicsquare.com/.well-known/apple-developer-merchantid-domain-association)","nullable":true,"example":"ZWY2ZDUyYzMtMDkxYi00Yzg3LTkxYzEtNzEzM2NkODg5MjBm"},"transactionId":{"type":"string","description":"Hexadecimal transaction identifier generated on the device","nullable":true,"example":"39366432633036302D666530642D343036322D393466352D356136316264613535393533"}},"additionalProperties":false,"title":"ApplePayPaymentDataHeader"},"signature":{"type":"string","description":"Base64 encoded PKCS #7 signature of the payment data and headers","nullable":true,"example":"NTZjZmZhMzctZjU4NS00OWJhLWIxZWQtZTk0MmU4ZjZlYjVk"},"version":{"type":"string","description":"Version information about the payment token","nullable":true,"example":"EC_v1"}},"additionalProperties":false,"title":"ApplePayPaymentData"},"paymentMethod":{"type":"object","properties":{"displayName":{"type":"string","description":"Display name of the card","nullable":true,"example":"Visa 4242"},"network":{"type":"string","description":"Payment card network. See [list](https://developer.apple.com/documentation/applepayontheweb/applepaypaymentrequest/supportednetworks) of supported card networks","nullable":true,"example":"Visa"},"type":{"type":"string","description":"Card type. See [list](https://developer.apple.com/documentation/applepayontheweb/applepaypaymentmethodtype) of supported card types","nullable":true,"example":"credit"},"billingContact":{"type":"object","properties":{"phoneNumber":{"type":"string","description":"Contact phone number","nullable":true,"example":"5551234567"},"emailAddress":{"type":"string","description":"Contact email address","nullable":true,"example":"johnsmith@email.com"},"givenName":{"type":"string","description":"Contact given name","nullable":true,"example":"John"},"familyName":{"type":"string","description":"Contact family name","nullable":true,"example":"John"},"phoneticGivenName":{"type":"string","description":"Phonetic spelling of the contact's given name","nullable":true,"example":"John"},"phoneticFamilyName":{"type":"string","description":"Phonetic spelling of the contact's family name","nullable":true,"example":"Smith"},"addressLines":{"type":"array","items":{"type":"string"},"description":"Street portion of contact's address","nullable":true,"example":["111 Test St.","Apt 123"]},"subLocality":{"type":"string","description":"Additional information associated with the location, typically defined at the city or town level (such as district or neighborhood), in a postal address","nullable":true,"example":"Historic District"},"locality":{"type":"string","description":"City for the contact","nullable":true,"example":"San Francisco"},"postalCode":{"type":"string","description":"Zip code or postal code for the contact","nullable":true,"example":"12345"},"subAdministrativeArea":{"type":"string","description":"Subadministrative area (such as a county or other region) in a postal address","nullable":true,"example":"Clay"},"administrativeArea":{"type":"string","description":"State for the contact","nullable":true,"example":"CA"},"country":{"type":"string","description":"Name of the country or region for the contact","nullable":true,"example":"United States"},"countryCode":{"type":"string","description":"Contact’s two-letter ISO 3166 country code","nullable":true,"example":"US"}},"additionalProperties":false,"title":"ApplePayBillingContact"},"paymentPass":{"type":"object","properties":{"primaryAccountIdentifier":{"type":"string","description":"Unique identifier for the primary account number for the payment card","nullable":true,"example":"61663865633264392D393936642D346232622D623530342D646638323535363564303938"},"primaryAccountNumberSuffix":{"type":"string","description":"Version of the primary account number suitable for display in your UI","nullable":true,"example":"363564303938"},"deviceAccountIdentifier":{"type":"string","description":"Unique identifier for the device-specific account number","nullable":true,"example":"38376231643061302D343936392D343138622D383838622D343135663435336135363931"},"deviceAccountNumberSuffix":{"type":"string","description":"Version of the device account number suitable for display in your UI","nullable":true,"example":"336135363931"},"activationState":{"type":"string","description":"Payment pass activation state. See [list](https://developer.apple.com/documentation/applepayontheweb/applepaypaymentpassactivationstate) of supported states","nullable":true,"example":"activated"}},"additionalProperties":false,"title":"ApplePayPaymentPass"}},"additionalProperties":false,"title":"ApplePayPaymentMethod"}},"additionalProperties":false,"title":"ApplePaymentData"},"billing_details":{"required":["address_line_1","city","country","postal_code","state"],"type":"object","properties":{"address_line_1":{"maxLength":50,"minLength":1,"type":"string","description":"Street name","example":"111 Colorado Ave."},"address_line_2":{"maxLength":50,"type":"string","description":"Apt, Suite or PO Box","nullable":true,"example":"Apt 403"},"city":{"maxLength":100,"minLength":1,"type":"string","description":"City","example":"Des Moines"},"state":{"maxLength":3,"minLength":2,"type":"string","description":"2 or 3 character ISO state code","example":"IA"},"postal_code":{"maxLength":30,"minLength":1,"type":"string","description":"Postal or zip code","example":"51111"},"country":{"maxLength":2,"minLength":1,"type":"string","description":"2 character ISO country code","example":"US"}},"additionalProperties":false,"title":"Address"}},"additionalProperties":false,"title":"CreateApplePayRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Apple Pay ID","nullable":true,"example":"appl_Aw3U2eESBnq6DoYEFn8qaSMrA"},"account_id":{"type":"string","description":"Account ID","nullable":true,"example":"acc_B518niGwGYKzig6vtrRVZGGGV"},"environment":{"type":"string","description":"Environment - Can be `test` or `production`","nullable":true,"example":"production"},"customer_id":{"type":"string","description":"Customer ID","nullable":true,"example":"cus_7Ay5mcUXAxwrN6wQEQUVEHBCJ"},"billing_details":{"required":["address_line_1","city","country","postal_code","state"],"type":"object","properties":{"address_line_1":{"maxLength":50,"minLength":1,"type":"string","description":"Street name","example":"111 Colorado Ave."},"address_line_2":{"maxLength":50,"type":"string","description":"Apt, Suite or PO Box","nullable":true,"example":"Apt 403"},"city":{"maxLength":100,"minLength":1,"type":"string","description":"City","example":"Des Moines"},"state":{"maxLength":3,"minLength":2,"type":"string","description":"2 or 3 character ISO state code","example":"IA"},"postal_code":{"maxLength":30,"minLength":1,"type":"string","description":"Postal or zip code","example":"51111"},"country":{"maxLength":2,"minLength":1,"type":"string","description":"2 character ISO country code","example":"US"}},"additionalProperties":false,"title":"Address"},"expires_at":{"type":"string","description":"Date Apple Pay token expires","format":"date-time","nullable":true,"example":"2024-06-31T01:02:29.212Z"},"created_at":{"type":"string","description":"Date Apple Pay token was created","format":"date-time","nullable":true,"example":"2024-06-30T01:02:29.212Z"},"modified_at":{"type":"string","description":"Date Apple Pay token was modified","format":"date-time","nullable":true,"example":"2024-06-30T01:02:29.212Z"},"token_type":{"type":"string","description":"Apple Pay token type. Can be `dpan` or `mpan`","nullable":true,"example":"dpan"},"last4":{"type":"string","description":"Last 4 digits of the card","nullable":true,"example":"4242"},"exp_month":{"type":"string","description":"Card expiration month","nullable":true,"example":"12"},"exp_year":{"type":"string","description":"Card expiration year","nullable":true,"example":"2025"},"brand":{"type":"string","description":"Card brand","nullable":true,"example":"visa"},"avs_code":{"type":"string","description":"AVS code","nullable":true,"example":"Y"},"cvv2_reply":{"type":"string","description":"CVV2 reply","nullable":true,"example":"M"}},"additionalProperties":false,"title":"ApplePay"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}},"nullable":true},"type":{"type":"string","nullable":true},"title":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32","nullable":true},"detail":{"type":"string","nullable":true},"instance":{"type":"string","nullable":true}},"additionalProperties":{},"title":"ValidationProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","nullable":true},"title":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32","nullable":true},"detail":{"type":"string","nullable":true},"instance":{"type":"string","nullable":true}},"additionalProperties":{},"title":"ProblemDetails"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","nullable":true},"title":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32","nullable":true},"detail":{"type":"string","nullable":true},"instance":{"type":"string","nullable":true}},"additionalProperties":{},"title":"ProblemDetails"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","nullable":true},"title":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32","nullable":true},"detail":{"type":"string","nullable":true},"instance":{"type":"string","nullable":true}},"additionalProperties":{},"title":"ProblemDetails"}}}}}}
>
  
</StatusCodes>


      