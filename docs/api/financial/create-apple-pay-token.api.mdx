---
id: create-apple-pay-token
title: "Create Apple Pay token"
description: "    Create a new Apple Pay payment method for the Account."
sidebar_label: "Create Apple Pay token"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/financial/publicsquare-payments-api
custom_edit_url: null
show_extensions: true
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create Apple Pay token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/payment-methods/apple-pay"}
  context={"endpoint"}
>
  
</MethodEndpoint>



    Create a new Apple Pay payment method for the Account.

    ### Permissions
    * `payment-method:capture`
    * `payment-method:write`

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"required":["apple_payment_data"],"type":"object","properties":{"customer_id":{"type":"string","nullable":true},"apple_payment_data":{"type":"object","properties":{"transactionIdentifier":{"type":"string","description":"Transaction identifier","nullable":true,"example":"39366432633036302D666530642D343036322D393466352D356136316264613535393533"},"paymentData":{"type":"object","properties":{"data":{"type":"string","description":"Encrypted payment data encoded as base64 string","nullable":true,"example":"OWNhNjMxMWItODJkOC00YTI3LTkyNjgtMzU5MjRlNzJmMzg1"},"header":{"type":"object","properties":{"applicationData":{"type":"string","description":"Hex encoded SHA–256 hash of the original payment request","nullable":true,"example":"33356261316566332D386463342D343865332D396666642D623432633836396433303837"},"ephemeralPublicKey":{"type":"string","description":"Base64 encoded X.509 public key. Applies only to `EC_v1` version","nullable":true,"example":"YTQyOGM2NWQtYmE3OC00NDMzLTlkOTEtNWQxMmRjOWVmMzg1"},"wrappedKey":{"type":"string","description":"Base64 encoded RSA public key. Applies only to `RSA_v1` version","nullable":true,"example":"ZWY2ZDUyYzMtMDkxYi00Yzg3LTkxYzEtNzEzM2NkODg5MjBm"},"publicKeyHash":{"type":"string","description":"Base64 encoded SHA–256 hash of [PublicSquare's CSR](https://portal.publicsquare.com/.well-known/apple-developer-merchantid-domain-association)","nullable":true,"example":"ZWY2ZDUyYzMtMDkxYi00Yzg3LTkxYzEtNzEzM2NkODg5MjBm"},"transactionId":{"type":"string","description":"Hexadecimal transaction identifier generated on the device","nullable":true,"example":"39366432633036302D666530642D343036322D393466352D356136316264613535393533"}},"additionalProperties":false,"title":"ApplePayPaymentDataHeader"},"signature":{"type":"string","description":"Base64 encoded PKCS #7 signature of the payment data and headers","nullable":true,"example":"NTZjZmZhMzctZjU4NS00OWJhLWIxZWQtZTk0MmU4ZjZlYjVk"},"version":{"type":"string","description":"Version information about the payment token","nullable":true,"example":"EC_v1"}},"additionalProperties":false,"title":"ApplePayPaymentData"},"paymentMethod":{"type":"object","properties":{"displayName":{"type":"string","description":"Display name of the card","nullable":true,"example":"Visa 4242"},"network":{"type":"string","description":"Payment card network. See [list](https://developer.apple.com/documentation/applepayontheweb/applepaypaymentrequest/supportednetworks) of supported card networks","nullable":true,"example":"Visa"},"type":{"type":"string","description":"Card type. See [list](https://developer.apple.com/documentation/applepayontheweb/applepaypaymentmethodtype) of supported card types","nullable":true,"example":"credit"},"billingContact":{"type":"object","properties":{"phoneNumber":{"type":"string","description":"Contact phone number","nullable":true,"example":"5551234567"},"emailAddress":{"type":"string","description":"Contact email address","nullable":true,"example":"johnsmith@email.com"},"givenName":{"type":"string","description":"Contact given name","nullable":true,"example":"John"},"familyName":{"type":"string","description":"Contact family name","nullable":true,"example":"John"},"phoneticGivenName":{"type":"string","description":"Phonetic spelling of the contact's given name","nullable":true,"example":"John"},"phoneticFamilyName":{"type":"string","description":"Phonetic spelling of the contact's family name","nullable":true,"example":"Smith"},"addressLines":{"type":"array","items":{"type":"string"},"description":"Street portion of contact's address","nullable":true,"example":["111 Test St.","Apt 123"]},"subLocality":{"type":"string","description":"Additional information associated with the location, typically defined at the city or town level (such as district or neighborhood), in a postal address","nullable":true,"example":"Historic District"},"locality":{"type":"string","description":"City for the contact","nullable":true,"example":"San Francisco"},"postalCode":{"type":"string","description":"Zip code or postal code for the contact","nullable":true,"example":"12345"},"subAdministrativeArea":{"type":"string","description":"Subadministrative area (such as a county or other region) in a postal address","nullable":true,"example":"Clay"},"administrativeArea":{"type":"string","description":"State for the contact","nullable":true,"example":"CA"},"country":{"type":"string","description":"Name of the country or region for the contact","nullable":true,"example":"United States"},"countryCode":{"type":"string","description":"Contact’s two-letter ISO 3166 country code","nullable":true,"example":"US"}},"additionalProperties":false,"title":"ApplePayBillingContact"},"paymentPass":{"type":"object","properties":{"primaryAccountIdentifier":{"type":"string","description":"Unique identifier for the primary account number for the payment card","nullable":true,"example":"61663865633264392D393936642D346232622D623530342D646638323535363564303938"},"primaryAccountNumberSuffix":{"type":"string","description":"Version of the primary account number suitable for display in your UI","nullable":true,"example":"363564303938"},"deviceAccountIdentifier":{"type":"string","description":"Unique identifier for the device-specific account number","nullable":true,"example":"38376231643061302D343936392D343138622D383838622D343135663435336135363931"},"deviceAccountNumberSuffix":{"type":"string","description":"Version of the device account number suitable for display in your UI","nullable":true,"example":"336135363931"},"activationState":{"type":"string","description":"Payment pass activation state. See [list](https://developer.apple.com/documentation/applepayontheweb/applepaypaymentpassactivationstate) of supported states","nullable":true,"example":"activated"}},"additionalProperties":false,"title":"ApplePayPaymentPass"}},"additionalProperties":false,"title":"ApplePayPaymentMethod"}},"additionalProperties":false,"title":"ApplePaymentData"},"billing_details":{"required":["address_line_1","city","country","postal_code","state"],"type":"object","properties":{"address_line_1":{"maxLength":50,"minLength":1,"type":"string","description":"Street name","example":"111 Colorado Ave."},"address_line_2":{"maxLength":50,"type":"string","description":"Apt, Suite or PO Box","nullable":true,"example":"Apt 403"},"city":{"maxLength":100,"minLength":1,"type":"string","description":"City","example":"Des Moines"},"state":{"maxLength":3,"minLength":2,"type":"string","description":"2 or 3 character ISO state code","example":"IA"},"postal_code":{"maxLength":30,"minLength":1,"type":"string","description":"Postal or zip code","example":"51111"},"country":{"maxLength":2,"minLength":1,"type":"string","description":"2 character ISO country code","example":"US"}},"additionalProperties":false,"title":"Address"}},"additionalProperties":false,"title":"CreateApplePayRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Apple Pay ID","nullable":true,"example":"appl_Aw3U2eESBnq6DoYEFn8qaSMrA"},"account_id":{"type":"string","description":"Account ID","nullable":true,"example":"acc_B518niGwGYKzig6vtrRVZGGGV"},"environment":{"type":"string","description":"Environment - Can be `test` or `production`","nullable":true,"example":"production"},"customer_id":{"type":"string","description":"Customer ID","nullable":true,"example":"cus_7Ay5mcUXAxwrN6wQEQUVEHBCJ"},"billing_details":{"required":["address_line_1","city","country","postal_code","state"],"type":"object","properties":{"address_line_1":{"maxLength":50,"minLength":1,"type":"string","description":"Street name","example":"111 Colorado Ave."},"address_line_2":{"maxLength":50,"type":"string","description":"Apt, Suite or PO Box","nullable":true,"example":"Apt 403"},"city":{"maxLength":100,"minLength":1,"type":"string","description":"City","example":"Des Moines"},"state":{"maxLength":3,"minLength":2,"type":"string","description":"2 or 3 character ISO state code","example":"IA"},"postal_code":{"maxLength":30,"minLength":1,"type":"string","description":"Postal or zip code","example":"51111"},"country":{"maxLength":2,"minLength":1,"type":"string","description":"2 character ISO country code","example":"US"}},"additionalProperties":false,"title":"Address"},"expires_at":{"type":"string","description":"Date Apple Pay token expires","format":"date-time","nullable":true,"example":"2024-06-31T01:02:29.212Z"},"created_at":{"type":"string","description":"Date Apple Pay token was created","format":"date-time","nullable":true,"example":"2024-06-30T01:02:29.212Z"},"modified_at":{"type":"string","description":"Date Apple Pay token was modified","format":"date-time","nullable":true,"example":"2024-06-30T01:02:29.212Z"},"token_type":{"type":"string","description":"Apple Pay token type. Can be `dpan` or `mpan`","nullable":true,"example":"dpan"},"last4":{"type":"string","description":"Last 4 digits of the card","nullable":true,"example":"4242"},"exp_month":{"type":"string","description":"Card expiration month","nullable":true,"example":"12"},"exp_year":{"type":"string","description":"Card expiration year","nullable":true,"example":"2025"},"brand":{"type":"string","description":"Card brand","nullable":true,"example":"visa"}},"additionalProperties":false,"title":"ApplePay"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}},"nullable":true},"type":{"type":"string","nullable":true},"title":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32","nullable":true},"detail":{"type":"string","nullable":true},"instance":{"type":"string","nullable":true}},"additionalProperties":{},"title":"ValidationProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","nullable":true},"title":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32","nullable":true},"detail":{"type":"string","nullable":true},"instance":{"type":"string","nullable":true}},"additionalProperties":{},"title":"ProblemDetails"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","nullable":true},"title":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32","nullable":true},"detail":{"type":"string","nullable":true},"instance":{"type":"string","nullable":true}},"additionalProperties":{},"title":"ProblemDetails"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","nullable":true},"title":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32","nullable":true},"detail":{"type":"string","nullable":true},"instance":{"type":"string","nullable":true}},"additionalProperties":{},"title":"ProblemDetails"}}}}}}
>
  
</StatusCodes>


      